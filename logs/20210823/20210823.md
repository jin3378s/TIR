## 2021-08-23

### 읽은 책

- 리팩터링 2권: 리팩터링 원칙

### 카테고리

- 개발

### 범위

- p79 ~ p111

### 요약

- 리팩터링 : 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법
- 리팩터링 하다가 코드가 깨졌다는 것은 위 정의에 따라 성립하지 않는다. 리팩터링 과정은 중간 어느 과정에서나 동작 해야 한다.
- 그대로 동작 한다는 것은 사용자 관점에서는 그대로 동작 하지만, 내부는 당연히 달라질 수 있다.
- 3의 법칙 : 첫번째는 그냥 한다. 두 번째 중복이 일어나면 일단 참고 한다. 세번째 중복이 일어나는 순간 리팩터링 한다.
- 세번 중복해서 사용 하는 것은, 리팩터링 해야할 코드가 세군데 퍼져 있는 것과 같으니 한곳에 합쳐 쓰도록 하자.
- 쓰레기 줍기 리팩터링 : 기능을 만들다가 중복 코드가 보인다면, 그떄 잠시 리팩터링 모자로 갈아쓰고 쓰레기를 줍도록 한다.
- 리팩터링을 계획 하는것은 .. 좀 이상하다. 틈틈히 하는것이 좋다.
- 브랜치를 따는 방식으로 개발하는것의 단점은, 브랜치에 머무는 시간이 길어질수록 코드의 통합이 힘들다는 점이다. 따라서 지속적인 통합 전략이 필요하다.
-

### 내생각

- 업무 틈틈히 리팩터링을 한다면, 그친구는 어떻게 커밋을 해야 할까? 흠 ..
- 전체 코드에서 리팩터링으로 인한 분량이 많아진다면 커밋 단위가 커져 코드리뷰 하기에 힘들지 않을까 라는 생각.
- 코드리뷰를 할 때 이전까지는 리팩터링이라는 관점보다는 단순 가독성에 좀 더 치중했는데, 리팩터링 관점에서 볼 필요가 있겠다.
- CI가 왜필요한가. 테스트 할때 필요한건가 했더니, 근본적인 목적은 브랜치에 오래 머물지 않도록 빨리빨리 나가는것을 의미하는것 같다.
- 처음부터 완벽한 설계를 짤 수 없다는 것, YAGNI법칙 등등 을 하나로 묶어보면, 마스터피스는 없고, 점진적으로 나아가야 하는데,
  나아 가기 위해서는 리팩터링을 해야 하고, 리팩터링을 하기 위해서는 테스트가 필요하다. 이런식으로 개발 하는게 애자일 개발 방법론의 일환이 아닐까
